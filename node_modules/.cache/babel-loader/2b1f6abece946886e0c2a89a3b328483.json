{"ast":null,"code":"import _objectSpread from \"D:/project/reactProject/crud-react-with-datatable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"D:/project/reactProject/crud-react-with-datatable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"D:/project/reactProject/crud-react-with-datatable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\project\\\\reactProject\\\\crud-react-with-datatable\\\\src\\\\App.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DataList from \"./components/DataList\";\nimport { api } from \"./utils/request\";\nimport Modal from \"./components/Modal\";\nimport ProductForm from \"./components/forms/ProductForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar App = function App() {\n  _s();\n\n  var products = useSelector(function (state) {\n    return state.products;\n  });\n  var dispatch = useDispatch();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedProduct = _useState2[0],\n      setSelectedProduct = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isAdd = _useState4[0],\n      setIsAdd = _useState4[1];\n\n  var loadProducts = function loadProducts() {\n    api().get(\"product\").then(function (res) {\n      dispatch({\n        type: \"PRODUCTS/SET_PRODUCTS\",\n        payload: _toConsumableArray(res.data)\n      });\n    }).catch(function (err) {\n      return console.log(err.response);\n    });\n  };\n\n  var deleteProduct = function deleteProduct(id) {\n    api().put(\"product/\".concat(id), {\n      isActive: false\n    }).then(function (res) {\n      loadProducts();\n    }).catch(function (err) {\n      return console.log(err.response);\n    });\n  };\n\n  var createProduct = function createProduct(values) {\n    api().post(\"product\", _objectSpread(_objectSpread({}, values), {}, {\n      isActive: true\n    })).then(function (res) {\n      loadProducts();\n      console.log(\"success create\");\n    }).catch(function (err) {\n      return console.log(err.response);\n    });\n  };\n\n  var updateProduct = function updateProduct(id, values) {\n    api().put(\"product/\".concat(id), _objectSpread({}, values)).then(function (res) {\n      // console.log(res.data);\n      loadProducts();\n      console.log(\"success update\");\n    }).catch(function (err) {\n      return console.log(err.response);\n    });\n  };\n\n  var productColumns = [{\n    Header: \"Name\",\n    accessor: \"name\"\n  }, {\n    Header: \"Quantity\",\n    accessor: \"qty\"\n  }, {\n    Header: \"Amount\",\n    accessor: \"amount\",\n    Cell: function Cell(_ref) {\n      var row = _ref.row;\n      return \"SOmething\";\n    }\n  }, {\n    Header: \"Status\",\n    accessor: \"isActive\",\n    Cell: function Cell(_ref2) {\n      var _row$original;\n\n      var row = _ref2.row;\n      return ((_row$original = row.original) === null || _row$original === void 0 ? void 0 : _row$original.isActive) ? \"Active\" : \"Not Active\";\n    }\n  }, {\n    Header: \"Action\",\n    accessor: \"action\",\n    Cell: function Cell(_ref3) {\n      var row = _ref3.row;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: function onClick(e) {\n            e.stopPropagation();\n            var confirmed = window.confirm(\"Are you sure wanna delete this product?\");\n\n            if (confirmed) {\n              console.log(\"deleted\");\n              deleteProduct(row.original.id);\n            } else {\n              console.log(\"cancelled delete action\");\n            }\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, _this);\n    }\n  }];\n  useEffect(function () {\n    loadProducts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-gray-400 body-font\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container px-5 py-24 mx-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: function onClick() {\n            return setIsAdd(true);\n          },\n          className: \"inline-flex text-white bg-blue-500 border-0 py-1 px-4 focus:outline-none hover:bg-blue-600 rounded\",\n          children: \"Add Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(DataList, {\n          columns: productColumns,\n          data: products || [],\n          onRowClick: function onRowClick(row) {\n            setSelectedProduct(row.original);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n          title: \"Add Product\",\n          show: isAdd,\n          onClose: function onClose() {\n            return setIsAdd(false);\n          },\n          children: /*#__PURE__*/_jsxDEV(ProductForm, {\n            onCancel: function onCancel() {\n              return setIsAdd(false);\n            },\n            onSubmit: function onSubmit(values) {\n              createProduct(values);\n              setIsAdd(false);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n          title: \"Edit Product\",\n          show: selectedProduct,\n          onClose: function onClose() {\n            return setSelectedProduct(null);\n          },\n          children: /*#__PURE__*/_jsxDEV(ProductForm, {\n            initialValue: selectedProduct,\n            onCancel: function onCancel() {\n              return setSelectedProduct(null);\n            },\n            onSubmit: function onSubmit(values) {\n              updateProduct(selectedProduct.id, values);\n              setSelectedProduct(null);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(App, \"e9t4pIEY2NRiGFplECDuEtSitMI=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/project/reactProject/crud-react-with-datatable/src/App.js"],"names":["useEffect","useState","useDispatch","useSelector","DataList","api","Modal","ProductForm","App","products","state","dispatch","selectedProduct","setSelectedProduct","isAdd","setIsAdd","loadProducts","get","then","res","type","payload","data","catch","err","console","log","response","deleteProduct","id","put","isActive","createProduct","values","post","updateProduct","productColumns","Header","accessor","Cell","row","original","e","stopPropagation","confirmed","window","confirm"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport DataList from \"./components/DataList\";\r\nimport { api } from \"./utils/request\";\r\nimport Modal from \"./components/Modal\";\r\nimport ProductForm from \"./components/forms/ProductForm\";\r\n\r\nconst App = () => {\r\n  const products = useSelector((state) => state.products);\r\n  const dispatch = useDispatch();\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [isAdd, setIsAdd] = useState(false);\r\n\r\n  const loadProducts = () => {\r\n    api()\r\n      .get(\"product\")\r\n      .then((res) => {\r\n        dispatch({ type: \"PRODUCTS/SET_PRODUCTS\", payload: [...res.data] });\r\n      })\r\n      .catch((err) => console.log(err.response));\r\n  };\r\n\r\n  const deleteProduct = (id) => {\r\n    api()\r\n      .put(`product/${id}`, { isActive: false })\r\n      .then((res) => {\r\n        loadProducts();\r\n      })\r\n      .catch((err) => console.log(err.response));\r\n  };\r\n\r\n  const createProduct = (values) => {\r\n    api()\r\n      .post(`product`, { ...values, isActive: true })\r\n      .then((res) => {\r\n        loadProducts();\r\n        console.log(\"success create\");\r\n      })\r\n      .catch((err) => console.log(err.response));\r\n  };\r\n\r\n  const updateProduct = (id, values) => {\r\n    api()\r\n      .put(`product/${id}`, { ...values })\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        loadProducts();\r\n        console.log(\"success update\");\r\n      })\r\n      .catch((err) => console.log(err.response));\r\n  };\r\n\r\n  const productColumns = [\r\n    {\r\n      Header: \"Name\",\r\n      accessor: \"name\"\r\n    },\r\n    {\r\n      Header: \"Quantity\",\r\n      accessor: \"qty\"\r\n    },\r\n    {\r\n      Header: \"Amount\",\r\n      accessor: \"amount\",\r\n      Cell: ({ row }) => {\r\n        return \"SOmething\";\r\n      }\r\n    },\r\n    {\r\n      Header: \"Status\",\r\n      accessor: \"isActive\",\r\n      Cell: ({ row }) => {\r\n        return row.original?.isActive ? \"Active\" : \"Not Active\";\r\n      }\r\n    },\r\n    {\r\n      Header: \"Action\",\r\n      accessor: \"action\",\r\n      Cell: ({ row }) => {\r\n        return (\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                const confirmed = window.confirm(\r\n                  \"Are you sure wanna delete this product?\"\r\n                );\r\n\r\n                if (confirmed) {\r\n                  console.log(\"deleted\");\r\n                  deleteProduct(row.original.id);\r\n                } else {\r\n                  console.log(\"cancelled delete action\");\r\n                }\r\n              }}\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"text-gray-400 body-font\">\r\n      <div className=\"container px-5 py-24 mx-auto\">\r\n        <div className=\"ml-5\">\r\n          <button type=\"button\" onClick={() => setIsAdd(true)} className=\"inline-flex text-white bg-blue-500 border-0 py-1 px-4 focus:outline-none hover:bg-blue-600 rounded\">\r\n            Add Product\r\n          </button>\r\n          <DataList\r\n            columns={productColumns}\r\n            data={products || []}\r\n            onRowClick={(row) => {\r\n              setSelectedProduct(row.original);\r\n            }}\r\n          />\r\n\r\n          <Modal title=\"Add Product\" show={isAdd} onClose={() => setIsAdd(false)}>\r\n            <ProductForm\r\n              onCancel={() => setIsAdd(false)}\r\n              onSubmit={(values) => {\r\n                createProduct(values);\r\n                setIsAdd(false);\r\n              }}\r\n            />\r\n          </Modal>\r\n\r\n          <Modal\r\n            title=\"Edit Product\"\r\n            show={selectedProduct}\r\n            onClose={() => setSelectedProduct(null)}\r\n          >\r\n            <ProductForm\r\n              initialValue={selectedProduct}\r\n              onCancel={() => setSelectedProduct(null)}\r\n              onSubmit={(values) => {\r\n                updateProduct(selectedProduct.id, values);\r\n                setSelectedProduct(null);\r\n              }}\r\n            />\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}